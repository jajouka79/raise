var REACH={};REACH.Accordion=function(a){return{init:function(){a.fn.accordion&&a(".accordion").accordion({heightStyle:"content"})}}}(jQuery),REACH.Barometer=function(a){var b=a(".barometer"),c=function(b){var c=a(window).scrollTop(),d=c+a(window).height(),e=b.offset().top,f=e+b.height();return f>=c&&d>=e&&d>=f&&e>=c},d=function(a,b,c,d,e){var f,g=360/d*c,h=(90-g)*Math.PI/180,i=a+e*Math.cos(h),j=b-e*Math.sin(h);return f=d==c?[["M",a,b-e],["A",e,e,0,1,1,a-.01,b-e]]:[["M",a,b-e],["A",e,e,0,+(g>180),1,i,j]],{path:f}};return drawBarometer=function(a,b,c,d,e){var f;e>0&&(f=b.path().attr({stroke:a.data("progress-stroke"),"stroke-width":a.data("strokewidth")+1,arc:[c/2,d/2,0,100,c/2-8]}),f.animate({arc:[c/2,d/2,e,100,c/2-8]},1500,"easeInOut",function(){a.find("span").animate({opacity:1},300,"linear")}))},initBarometer=function(b){var e,f=b.data("width"),g=b.data("height"),h=Raphael(b[0],f,g),i=!1,j=b.data("progress")>100?100:b.data("progress");h.customAttributes.arc=d,e=h.path().attr({stroke:b.data("stroke"),"stroke-width":b.data("strokewidth"),arc:[f/2,g/2,0,100,f/2-8]}),b.parent().addClass("barometer-added"),e.animate({arc:[f/2,g/2,100,100,f/2-8]},1e3,function(){0===j&&b.find("span").animate({opacity:1},500,"linear")}),c(b)?(drawBarometer(b,h,f,g,j),i=!0):a(window).scroll(function(){i===!1&&c(b)&&(drawBarometer(b,h,f,g,j),i=!0)})},{init:function(){b.each(function(){initBarometer(a(this))})},getBarometers:function(){return b}}}(jQuery),REACH.Countdown=function(a){var b=function(){var b=a(".countdown");return b.length&&b.countdown({until:a.countdown.UTCDate(REACH_CROWDFUNDING.timezone_offset,new Date(b.data().enddate)),format:"dHMS",labels:[REACH_CROWDFUNDING.years,REACH_CROWDFUNDING.months,REACH_CROWDFUNDING.weeks,REACH_CROWDFUNDING.days,REACH_CROWDFUNDING.hours,REACH_CROWDFUNDING.minutes,REACH_CROWDFUNDING.seconds],labels1:[REACH_CROWDFUNDING.year,REACH_CROWDFUNDING.month,REACH_CROWDFUNDING.week,REACH_CROWDFUNDING.day,REACH_CROWDFUNDING.hour,REACH_CROWDFUNDING.minute,REACH_CROWDFUNDING.second]}),b};return{init:function(){b()}}}(jQuery),REACH.Grid=function(a){var b=a(".masonry-grid"),c=function(a){a.masonry()};return{init:function(){a(window).width()>400&&b.each(function(){c(a(this))})},getGrids:function(){return b},resizeGrid:function(){b.each(function(){c(a(this))})}}}(jQuery),REACH.Pledging=function(a){var b,c=a("#charitable-edd-pledge-form"),d=c.find(".edd_download_purchase_form"),e=c.find("input[name=atcf_custom_price]"),f=c.find(".edd_download_purchase_form .pledge-level").sort(function(b,c){return parseInt(a(b).data("price"))-parseInt(a(c).data("price"))}),g=c.find(".pledge-button a"),h=f.first(),i=function(){var c=parseInt(e.val());if(0!==h.length&&0!==f.length){if(parseInt(h.data("price"))>c)return alert(REACH.need_minimum_pledge),h.find("input").prop("checked",!0),void h.change();f.each(function(){return a(this).data("price")<=c&&a(this).hasClass("not-available")===!1?void(b=a(this)):!1}),b.find("input").prop("checked",!0)}};return{init:function(){g.on("click",function(){var b=a(this).data("price");console.log(a(this)),d.find('[data-price="'+b+'"] input').prop("checked",!0).trigger("change")}),d.on("change",".pledge-level",function(){e.val(a(this).data().price)}).on("change","input[name=atcf_custom_price]",function(){i()})}}}(jQuery),REACH.CrossBrowserPlaceholders=function(a){return{init:function(){var b=a(":text,textarea");if(b.length&&!("placeholder"in b.first()[0])){var c=document.activeElement;b.focus(function(){null!=a(this).attr("placeholder")&&(a(this).val(""),a(this).val()!==a(this).attr("placeholder")&&a(this).removeClass("hasPlaceholder"))}).blur(function(){null==a(this).attr("placeholder")||""!==a(this).val()&&a(this).val()!==a(this).attr("placeholder")||a(this).val(a(this).attr("placeholder")).addClass("hasPlaceholder")}),b.blur(),a(c).focus(),a("form").submit(function(){a(this).find(".hasPlaceholder").each(function(){a(this).val("")})})}}}}(jQuery),REACH.DropdownMenus=function(a){return{init:function(){a(".menu li").on("mouseover",function(){a(this).addClass("hovering")}).on("mouseout",function(){a(this).removeClass("hovering")})}}}(jQuery),REACH.FancySelect=function(a){return{init:function(){var b=a("select"),c=function(a){a.parent().css("display",a.css("display"))};return b.parent().hasClass("select-wrapper")?c:(b.wrap('<div class="select-wrapper" />').on("change",function(){c(a(this))}),b.each(function(){c(a(this))}),c)}}}(jQuery),REACH.Fitvids=function(a){return{init:function(){a(".fit-video, .video-player").fitVids()}}}(jQuery),REACH.ImageHovers=function(a){return{init:function(){a(".on-hover").each(function(){var b=a(this).parent(),c=b.find("img");a(this).css({width:c.width(),left:c.position().left}),b.addClass("hover-parent").on("mouseover",function(){a(this).addClass("hovering")}).on("mouseout",function(){a(this).removeClass("hovering")})})}}}(jQuery),REACH.LeanModal=function(a){return{init:function(){a.fn.leanModal&&a("[data-trigger-modal]").leanModal({closeButton:".close-modal"})}}}(jQuery),REACH.ResponsiveMenu=function(a){return{init:function(){var b,c,d=a(".site-navigation"),e=a(".account-links");if(d&&(b=d.find(".menu-toggle"))){if(d.find(".menu-site").append('<li class="account-links">'+e.html()+"</li>"),c=d.find("ul"),!c)return void b.hide();c.attr("aria-expanded","false"),c.hasClass("nav-menu")||c.addClass("nav-menu"),b.on("click",function(){d.hasClass("toggled")?(d.removeClass("toggled"),b.attr("aria-expanded","false"),c.attr("aria-expanded","false")):(d.addClass("toggled"),b.attr("aria-expanded","true"),c.attr("aria-expanded","true"))})}}}}(jQuery),REACH.SidebarPositioning=function(a){return{init:function(){var b=a("body").outerWidth(),c=a(".banner"),d=a("#secondary");if(c.length&&d.length)return 785>b?void(d[0].style.marginTop=""):void d.css("marginTop",c.outerHeight())}}}(jQuery),REACH.SkipLinkFocusFix=function(){var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,b=navigator.userAgent.toLowerCase().indexOf("opera")>-1,c=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||b||c)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1)}();